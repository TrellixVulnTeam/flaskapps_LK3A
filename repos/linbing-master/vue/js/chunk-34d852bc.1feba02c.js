(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34d852bc"],{"0432":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Form",{ref:"SystemsetForm",attrs:{model:e.form,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[r("FormItem",[r("Select",{attrs:{clearable:""},model:{value:e.proxytype,callback:function(t){e.proxytype=t},expression:"proxytype"}},[r("Option",{attrs:{value:"http"}},[e._v("http 代理")]),r("Option",{attrs:{value:"socks4"}},[e._v("socks4 代理")]),r("Option",{attrs:{value:"socks5"}},[e._v("socks5 代理")])],1)],1),r("FormItem",{attrs:{prop:"proxyip"}},[r("Input",{attrs:{type:"text",placeholder:"代理地址,比如127.0.0.1:8080",clearable:""},model:{value:e.form.proxyip,callback:function(t){e.$set(e.form,"proxyip",t)},expression:"form.proxyip"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"ios-add-circle-outline"}})],1)])],1),r("FormItem",{attrs:{prop:"timeout"}},[r("Input",{attrs:{type:"text",placeholder:"扫描超时时间",clearable:""},model:{value:e.form.timeout,callback:function(t){e.$set(e.form,"timeout",t)},expression:"form.timeout"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"ios-add-circle-outline"}})],1)])],1),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("确定")])],1)],1)},_=[],s=(r("10fd"),r("e0ac"),r("b1d0"),r("c276")),i={name:"SystemsetForm",props:{proxyipRules:{type:Array,default:function(){return[{required:!1,trigger:"blur",max:100}]}},timeoutRules:{type:Array,default:function(){return[{required:!0,trigger:"blur",max:100}]}}},data:function(){return{proxytype:"",form:{proxyip:"",timeout:""}}},computed:{rules:function(){return{proxyip:this.proxyipRules,timeout:this.timeoutRules}}},methods:{handleSubmit:function(){var e=this;this.$refs.SystemsetForm.validate(function(t){t&&e.$emit("on-success-valid",{proxyip:e.form.proxyip,proxytype:e.proxytype,timeout:e.form.timeout,token:Object(s["i"])()})})}}},o=i,c=r("2877"),n=Object(c["a"])(o,a,_,!1,null,null,null),u=n.exports;t["a"]=u},"10fd":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return isemail}),__webpack_require__.d(__webpack_exports__,"e",function(){return isusername}),__webpack_require__.d(__webpack_exports__,"d",function(){return istarget}),__webpack_require__.d(__webpack_exports__,"f",function(){return loginusername}),__webpack_require__.d(__webpack_exports__,"a",function(){return ischecknum}),__webpack_require__.d(__webpack_exports__,"c",function(){return ispassword});var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__),_libs_http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b1d0"),_libs_crypto__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e0ac"),_libs_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("c276");function isemail(rule,value,callback){var reg=/^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@.*?\.com$/;if(!reg.test(value.trim()))return callback(new Error("请输入合法邮箱"));var data={type:"email",data:value};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_2__["a"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_1__["a"].post("/api/query",params).then(function(res){switch(res.data=eval("("+res.data+")"),res.data.code){case"Z1001":return callback(new Error("系统异常"));case"Z1002":return callback(new Error("请求方法异常"));case"Z1007":return callback(new Error("邮箱已注册"));default:callback()}})}function isusername(rule,value,callback){var reg=/^[A-Za-z0-9]{1,10}$/;if(!reg.test(value.trim()))return callback(new Error("用户名输入错误"));var data={type:"username",data:value};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_2__["a"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_1__["a"].post("/api/query",params).then(function(res){switch(res.data=eval("("+res.data+")"),res.data.code){case"Z1001":return callback(new Error("系统异常"));case"Z1002":return callback(new Error("请求方法异常"));case"Z1006":return callback(new Error("用户名已注册"));default:callback()}})}function istarget(rule,value,callback){value=value.split(/[(\r\n)\r\n]+/);for(var i=0;i<value.length;i++){var data={type:"target",data:{data:value[i],token:Object(_libs_util__WEBPACK_IMPORTED_MODULE_3__["i"])()}};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_2__["a"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_1__["a"].post("/api/query",params).then(function(res){switch(res.data=eval("("+res.data+")"),res.data.code){case"Z1001":return callback(new Error("系统异常"));case"Z1002":return callback(new Error("请求方法异常"));case"Z10010":return callback(new Error("目标已存在,请不要重复添加目标,如已删除请在垃圾箱内恢复"));default:callback()}})}}function loginusername(e,t,r){var a=/^[A-Za-z0-9]{1,10}$/;if(!a.test(t.trim()))return r(new Error("用户名输入错误"));r()}function ischecknum(e,t,r){var a=/^[A-Za-z0-9]{6}$/;if(!a.test(t.trim()))return r(new Error("注册码输入错误"));r()}function ispassword(e,t,r){var a=/^[A-Za-z0-9]{8,16}$/;if(!a.test(t.trim()))return r(new Error("密码输入错误"));r()}},"36da":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"systemset"},[r("div",{staticClass:"systemset-con"},[r("Card",{staticClass:"card",attrs:{icon:"log-in",title:"系统设置",bordered:!1}},[r("div",{staticClass:"form-con"},[r("systemset-form",{on:{"on-success-valid":e.handleSubmit}})],1)])],1)])},_=[],s=r("f416"),i=s["a"],o=(r("75c9"),r("2877")),c=Object(o["a"])(i,a,_,!1,null,null,null);t["default"]=c.exports},"75c9":function(e,t,r){"use strict";var a=r("b8a2"),_=r.n(a);_.a},b8a2:function(e,t,r){},f416:function(module,__webpack_exports__,__webpack_require__){"use strict";var _c_systemset_form__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0432"),_libs_crypto__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e0ac"),_libs_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b1d0"),_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4360");__webpack_exports__["a"]={components:{SystemsetForm:_c_systemset_form__WEBPACK_IMPORTED_MODULE_0__["a"]},created:function(){var e=this;sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",function(){sessionStorage.setItem("store",JSON.stringify(e.$store.state))})},methods:{handleSubmit:function handleSubmit(_ref){var _this2=this,proxytype=_ref.proxytype,proxyip=_ref.proxyip,timeout=_ref.timeout,token=_ref.token;console.log(proxytype,proxyip,timeout,token);var data={proxytype:proxytype.trim(),proxyip:proxyip.trim(),timeout:timeout.trim(),token:token.trim()};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_1__["a"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_2__["a"].post("/api/system_set",params).then(function(res){switch(res.data=eval("("+res.data+")"),res.data.code){case"Z1000":_this2.$Notice.success({title:"设置成功",desc:"稍后返回系统设置页面"}),setTimeout(function(){_this2.$router.push({path:"/system"})},5e3);break;case"Z1001":_this2.$Notice.error({title:"设置失败",desc:"系统发生异常,请稍后再次尝试"});break;case"Z1002":_this2.$Notice.error({title:"设置失败",desc:"系统发生异常,请稍后再次尝试"});break;case"Z1004":_this2.$Notice.error({title:"设置失败",desc:"认证失败,请稍后再次尝试"});break;case"Z1008":_this2.$Notice.error({title:"设置失败",desc:"原密码错误,请重新输入密码再次尝试"});break;case"Z1020":_this2.$Notice.error({title:"设置失败,请重新输入",desc:"设置失败,请重新输入"});break;default:break}})}}}}}]);