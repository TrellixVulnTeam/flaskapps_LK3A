

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using supplychainpy with Pandas, Jupyter and Matplotlib &mdash; supplychainpy 0.0.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="supplychainpy 0.0.4 documentation" href="index.html"/>
        <link rel="next" title="Analytic Hierarchy Process" href="ahp.html"/>
        <link rel="prev" title="Inventory Modeling and Analysis Made Easy with Supplychainpy" href="inventory.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> supplychainpy
          

          
          </a>

          
            
            
              <div class="version">
                0.0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Supplychainpy Reporting Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">Inventory Modeling and Analysis Made Easy with Supplychainpy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using supplychainpy with Pandas, Jupyter and Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="ahp.html">Analytic Hierarchy Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="monte_carlo_simulation.html">Monte Carlo Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Supplychainpy with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculations.html">Formulas and Equations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">supplychainpy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using supplychainpy with Pandas, Jupyter and Matplotlib</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pandas.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-supplychainpy-with-pandas-jupyter-and-matplotlib">
<span id="demand"></span><h1>Using supplychainpy with Pandas, Jupyter and Matplotlib<a class="headerlink" href="#using-supplychainpy-with-pandas-jupyter-and-matplotlib" title="Permalink to this headline">¶</a></h1>
<p>The following is taken from the jupyter notebook title ‘0.0.4-Using-Supplychainpy-and-Pandas-v1’ found <a class="reference external" href="https://github.com/KevinFasusi/supplychainpy_notebooks">here</a> .
For a more interactive experience please retrieve this notebook and run with jupyter.</p>
<p>To use supplychainpy with Pandas, we first read a csv file to a Pandas DataFrame.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">supplychainpy.model_inventory</span> <span class="k">import</span> <span class="n">analyse</span>
<span class="kn">from</span> <span class="nn">supplychainpy.model_demand</span> <span class="k">import</span> <span class="n">simple_exponential_smoothing_forecast</span>
<span class="kn">from</span> <span class="nn">supplychainpy.sample_data.config</span> <span class="k">import</span> <span class="n">ABS_FILE_PATH</span>

<span class="n">raw_df</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">ABS_FILE_PATH</span><span class="p">[</span><span class="s1">&#39;COMPLETE_CSV_SM&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">raw_df</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
          Sku   jan   feb   mar   apr   may   jun   jul   aug   sep   oct  0   KR202-209  1509  1855  2665  1841  1231  2598  1988  1988  2927  2707
1   KR202-210  1006   206  2588   670  2768  2809  1475  1537   919  2525
2   KR202-211  1840  2284   850   983  2737  1264  2002  1980   235  1489
3   KR202-212   104  2262   350   528  2570  1216  1101  2755  2856  2381
4   KR202-213   489   954  1112   199   919   330   561  2372   921  1587
5   KR202-214  2416  2010  2527  1409  1059   890  2837   276   987  2228
6   KR202-215   403  1737   753  1982  2775   380  1561  1230  1262  2249
7   KR202-216  2908   929   684  2618  1477  1508   765    43  2550  2157
8   KR202-217  2799  2197  1647  2263   224  2987  2366   588  1140   869
9   KR202-218  1333   402   804   318  1408   830  1028   534  1871  2730
10  KR202-219   813   969   745  1001  2732  1987   717   599  2722   171
11  KR202-220  1481   905  1067  2513   861  1670   650  2630  1245   997
12  KR202-221   771  2941  1360  2714  1801  1744  1428  1660   436   578
13  KR202-222  2349     4   345   524   340  2698  2137  1164   498  1583
14  KR202-223  2045  2055   552    81  2780   176  2316  1475  2566  1678
15  KR202-224  2482  1887  1911  1446  2939  1241  1281   692   119   627
16  KR202-225  2744  2770  2697  1726  1776  2264   332  2420  2722  1161
17  KR202-226  2509   914   903   877  1859  2263   383   593   236   189
18  KR202-227   368  2502  2955  2994  1270  2884  2208   699   854   877
19  KR202-228  1468  1109  2464  2799   948   589  2858  1140   501  2691
20  KR202-229  2114   198  1479  1249  1475   744   407  2280   226  2285
21  KR202-230  1023  1150  1672  2026  1590   441  2484  2300  2928  1082
22  KR202-231   482   546   299  2304  2953  1029  1863  2809   454   927
23  KR202-232   614  2138   962  2017  2398  2963  2189  1804   414  2016
24  KR202-233  2395  2521  2157   728  1028    43   138   826   570  2825
25  KR202-234  1336  1478   865   533  1562   422  2287  1302  1230  1059
26  KR202-235  2565  2762  2721  1431   845  2163  2413  2227  1753   740
27  KR202-236  1912  1726  1569   316    71  2082   108   174  1974   609
28  KR202-237  2153  1112    16   130   590  2619  2576  2390  2567  1531
29  KR202-238  1417  2044  1981  1936  2377   780  1544  1521    51  1056
30  KR202-239  2717  2186  2300   677  2157  2328  1917  2519   561   281
31  KR202-240  1015   741  2754  2925  2302   695  2869   440   406  1083
32  KR202-241  3050  1507  3637  1112  1963  1675   898  1986  2262  3895
33  KR202-242  1875  2368   830   823   868  1409  1845  3095  3247  1894
34  KR202-243  1717   593  3006  2935  3139  2753  3247  3845  1720  3413
35  KR202-244  2383  2046  2487  3827  1674  3118  2849  2233  3888  2566
36  KR202-245  1115  2694  3038  3366  1058  2724  2863  1930  1787   838
37  KR202-246  3108  1197  2472  1264  3179  3638  1268  1581  3456  1630
38  KR202-247  3439  1854   652  1827  1645  2257  2733  1337  2034  2106

     nov   dec  unit cost  lead-time  retail_price  quantity_on_hand  backlog
0    731  2598       1001          2          5000              1003       10
1    440  2691        394          2          1300              3224       10
2    218   525        434          4          1200               390       10
3   1867  2743        474          3            10               390       10
4   1532  1512        514          1          2000              2095       10
5   1095  1396        554          2          1800                55       10
6    824   743        594          1          2500              4308       10
7    937  1201        634          3          3033                34       10
8   1707  1180        674          3          5433               390       10
9   2022    94        714          2          3034              3535       10
10   639  2108        754          3          5000               334       10
11  1936  2780        794          3          7500              3434       10
12  1956  1101        834          2          4938              4433       10
13  1241  2965        874          2          4922              3435       10
14  1553  2745        914          1          4894             34533       10
15  1941  1383        954          2          2942                33       10
16  1986  2587        994          6          8999              2000       10
17   920  1686       1034          3          4342              4344       10
18  2320   160       1074          3          4920               489       10
19    93  1060       1114          2         15000              9439       10
20   796  1948       1154          2         13000              8939       10
21  2064  2412       1194          2         10000               349       10
22  2488  2341       1234          4          9999              3434       10
23  1350  2464       1274          2          7500               234       10
24   181   787       1314          4          6000               349       10
25  1153   399       1354          2         20000               324       10
26  1139  2300       1394          3         59500               850       10
27  2896   566       1434          3          2300              4930       10
28   842   242       1474          2          4500              9483       10
29  1876  1356       1514          3          8000               839       10
30  1162  1146       1554          2         39000               433       10
31  2334  1015       1594          3          3943               390       10
32  1229  2904        769          5          8007              2125       10
33  2558  3048       1819          1         13225              1253       10
34  3399  2799       1120          3         14682              1128       10
35  2216  3817       1067          5         11997              1191       10
36  3087  1565       1623          2         12876               611       10
37  1788  2288        608          2          6548              2192       10
38   877  2409       1578          2         10463              1017       10
</pre>
<p>Passing a Pandas <code class="docutils literal"><span class="pre">DataFrame</span></code> as a keyword parameter (df=) returns a
DataFrame with the inventory profile analysed. Excluding the import
statements this can be achieved in 3 lines of code. There are several
columns, so the print statement has been limited to a few.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">orders_df</span> <span class="o">=</span> <span class="n">raw_df</span><span class="p">[[</span><span class="s1">&#39;Sku&#39;</span><span class="p">,</span><span class="s1">&#39;jan&#39;</span><span class="p">,</span><span class="s1">&#39;feb&#39;</span><span class="p">,</span><span class="s1">&#39;mar&#39;</span><span class="p">,</span><span class="s1">&#39;apr&#39;</span><span class="p">,</span> <span class="s1">&#39;may&#39;</span><span class="p">,</span> <span class="s1">&#39;jun&#39;</span><span class="p">,</span> <span class="s1">&#39;jul&#39;</span><span class="p">,</span> <span class="s1">&#39;aug&#39;</span><span class="p">,</span> <span class="s1">&#39;sep&#39;</span><span class="p">,</span> <span class="s1">&#39;oct&#39;</span><span class="p">,</span> <span class="s1">&#39;nov&#39;</span><span class="p">,</span> <span class="s1">&#39;dec&#39;</span><span class="p">]]</span>
<span class="c1">#orders_df.set_index(&#39;Sku&#39;)</span>
<span class="n">analysis_df</span> <span class="o">=</span> <span class="n">analyse</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">raw_df</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">interval_length</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">interval_type</span><span class="o">=</span><span class="s1">&#39;months&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">analysis_df</span><span class="p">[[</span><span class="s1">&#39;sku&#39;</span><span class="p">,</span><span class="s1">&#39;quantity_on_hand&#39;</span><span class="p">,</span> <span class="s1">&#39;excess_stock&#39;</span><span class="p">,</span> <span class="s1">&#39;shortages&#39;</span><span class="p">,</span> <span class="s1">&#39;ABC_XYZ_Classification&#39;</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>          <span class="n">sku</span> <span class="n">quantity_on_hand</span> <span class="n">excess_stock</span> <span class="n">shortages</span> <span class="n">ABC_XYZ_Classification</span>
<span class="mi">0</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">209</span>             <span class="mi">1003</span>            <span class="mi">0</span>      <span class="mi">5969</span>                     <span class="n">BY</span>
<span class="mi">1</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">210</span>             <span class="mi">3224</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CY</span>
<span class="mi">2</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">211</span>              <span class="mi">390</span>            <span class="mi">0</span>      <span class="mi">7099</span>                     <span class="n">CY</span>
<span class="mi">3</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">212</span>              <span class="mi">390</span>            <span class="mi">0</span>      <span class="mi">7759</span>                     <span class="n">CY</span>
<span class="mi">4</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">213</span>             <span class="mi">2095</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CY</span>
<span class="mi">5</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">214</span>               <span class="mi">55</span>            <span class="mi">0</span>      <span class="mi">5824</span>                     <span class="n">CY</span>
<span class="mi">6</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">215</span>             <span class="mi">4308</span>          <span class="mi">732</span>         <span class="mi">0</span>                     <span class="n">CY</span>
<span class="mi">7</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">216</span>               <span class="mi">34</span>            <span class="mi">0</span>      <span class="mi">6999</span>                     <span class="n">CY</span>
<span class="mi">8</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">217</span>              <span class="mi">390</span>            <span class="mi">0</span>      <span class="mi">7245</span>                     <span class="n">BY</span>
<span class="mi">9</span>   <span class="n">KR202</span><span class="o">-</span><span class="mi">218</span>             <span class="mi">3535</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CZ</span>
<span class="mi">10</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">219</span>              <span class="mi">334</span>            <span class="mi">0</span>      <span class="mi">5917</span>                     <span class="n">CZ</span>
<span class="mi">11</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">220</span>             <span class="mi">3434</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">BY</span>
<span class="mi">12</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">221</span>             <span class="mi">4433</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">BY</span>
<span class="mi">13</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">222</span>             <span class="mi">3435</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CZ</span>
<span class="mi">14</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">223</span>            <span class="mi">34533</span>        <span class="mi">30030</span>         <span class="mi">0</span>                     <span class="n">BY</span>
<span class="mi">15</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">224</span>               <span class="mi">33</span>            <span class="mi">0</span>      <span class="mi">5580</span>                     <span class="n">CY</span>
<span class="mi">16</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">225</span>             <span class="mi">2000</span>            <span class="mi">0</span>     <span class="mi">10542</span>                     <span class="n">AY</span>
<span class="mi">17</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">226</span>             <span class="mi">4344</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CZ</span>
<span class="mi">18</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">227</span>              <span class="mi">489</span>            <span class="mi">0</span>      <span class="mi">7587</span>                     <span class="n">BZ</span>
<span class="mi">19</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">228</span>             <span class="mi">9439</span>         <span class="mi">3572</span>         <span class="mi">0</span>                     <span class="n">AZ</span>
<span class="mi">20</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">229</span>             <span class="mi">8939</span>         <span class="mi">3994</span>         <span class="mi">0</span>                     <span class="n">AY</span>
<span class="mi">21</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">230</span>              <span class="mi">349</span>            <span class="mi">0</span>      <span class="mi">5913</span>                     <span class="n">AY</span>
<span class="mi">22</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">231</span>             <span class="mi">3434</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">AZ</span>
<span class="mi">23</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">232</span>              <span class="mi">234</span>            <span class="mi">0</span>      <span class="mi">6150</span>                     <span class="n">AY</span>
<span class="mi">24</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">233</span>              <span class="mi">349</span>            <span class="mi">0</span>      <span class="mi">6856</span>                     <span class="n">CZ</span>
<span class="mi">25</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">234</span>              <span class="mi">324</span>            <span class="mi">0</span>      <span class="mi">3822</span>                     <span class="n">AY</span>
<span class="mi">26</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">235</span>              <span class="mi">850</span>            <span class="mi">0</span>      <span class="mi">7339</span>                     <span class="n">AY</span>
<span class="mi">27</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">236</span>             <span class="mi">4930</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">CZ</span>
<span class="mi">28</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">237</span>             <span class="mi">9483</span>         <span class="mi">3742</span>         <span class="mi">0</span>                     <span class="n">CZ</span>
<span class="mi">29</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">238</span>              <span class="mi">839</span>            <span class="mi">0</span>      <span class="mi">5693</span>                     <span class="n">BY</span>
<span class="mi">30</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">239</span>              <span class="mi">433</span>            <span class="mi">0</span>      <span class="mi">5737</span>                     <span class="n">AY</span>
<span class="mi">31</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">240</span>              <span class="mi">390</span>            <span class="mi">0</span>      <span class="mi">7094</span>                     <span class="n">CZ</span>
<span class="mi">32</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">241</span>             <span class="mi">2125</span>            <span class="mi">0</span>     <span class="mi">10328</span>                     <span class="n">AY</span>
<span class="mi">33</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">242</span>             <span class="mi">1253</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">AY</span>
<span class="mi">34</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">243</span>             <span class="mi">1128</span>            <span class="mi">0</span>     <span class="mi">10227</span>                     <span class="n">AY</span>
<span class="mi">35</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">244</span>             <span class="mi">1191</span>            <span class="mi">0</span>     <span class="mi">13200</span>                     <span class="n">AY</span>
<span class="mi">36</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">245</span>              <span class="mi">611</span>            <span class="mi">0</span>      <span class="mi">7081</span>                     <span class="n">AY</span>
<span class="mi">37</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">246</span>             <span class="mi">2192</span>            <span class="mi">0</span>         <span class="mi">0</span>                     <span class="n">AY</span>
<span class="mi">38</span>  <span class="n">KR202</span><span class="o">-</span><span class="mi">247</span>             <span class="mi">1017</span>            <span class="mi">0</span>      <span class="mi">5776</span>                     <span class="n">AY</span>
</pre></div>
</div>
<p>Before we can make a forecast we need to select a SKU from the
<code class="docutils literal"><span class="pre">analysis_df</span></code> variable, slice the row to retrive only orders data and
convert to a <code class="docutils literal"><span class="pre">Series</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">row_ds</span> <span class="o">=</span> <span class="n">raw_df</span><span class="p">[</span><span class="n">raw_df</span><span class="p">[</span><span class="s1">&#39;Sku&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;KR202-212&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">row_ds</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">12</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">jan</span>     <span class="mi">104</span>
<span class="n">feb</span>    <span class="mi">2262</span>
<span class="n">mar</span>     <span class="mi">350</span>
<span class="n">apr</span>     <span class="mi">528</span>
<span class="n">may</span>    <span class="mi">2570</span>
<span class="n">jun</span>    <span class="mi">1216</span>
<span class="n">jul</span>    <span class="mi">1101</span>
<span class="n">aug</span>    <span class="mi">2755</span>
<span class="n">sep</span>    <span class="mi">2856</span>
<span class="nb">oct</span>    <span class="mi">2381</span>
<span class="n">nov</span>    <span class="mi">1867</span>
<span class="n">Name</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>Now that we have a <code class="docutils literal"><span class="pre">series</span></code> of orders data fro the SKU <code class="docutils literal"><span class="pre">KR202-212</span></code>,
we can now perform a forecast using the <code class="docutils literal"><span class="pre">model_demand</span></code> module. We can
perform a simple_exponential_smoothing_forecast by passing the
forecasting function the orders data using the keyword parameter
<code class="docutils literal"><span class="pre">ds=</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ses_df</span> <span class="o">=</span> <span class="n">simple_exponential_smoothing_forecast</span><span class="p">(</span><span class="n">ds</span><span class="o">=</span><span class="n">row_ds</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">12</span><span class="p">],</span> <span class="n">length</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">smoothing_level_constant</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ses_df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;statistics&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;pvalue&#39;</span><span class="p">:</span> <span class="mf">0.0047852515832242743</span><span class="p">,</span> <span class="s1">&#39;test_statistic&#39;</span><span class="p">:</span> <span class="mf">3.8634855288615153</span><span class="p">,</span> <span class="s1">&#39;std_residuals&#39;</span><span class="p">:</span> <span class="mf">4793.7283216530095</span><span class="p">,</span> <span class="s1">&#39;intercept&#39;</span><span class="p">:</span> <span class="mf">377.59999999999991</span><span class="p">,</span> <span class="s1">&#39;trend&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;slope&#39;</span><span class="p">:</span> <span class="mf">224.4909090909091</span><span class="p">,</span> <span class="s1">&#39;slope_standard_error&#39;</span><span class="p">:</span> <span class="mf">58.105797838218294</span><span class="p">},</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;forecast_breakdown&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2345353.024793389</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1635.4545454545455</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">869.72727272727275</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1531.4545454545455</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1938423.3471074379</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2262</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">869.72727272727275</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1565.8636363636365</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1392.2727272727273</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1478324.3822314052</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1565.8636363636365</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">957.93181818181824</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1215.8636363636365</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">184841.36828512402</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">528</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">957.93181818181824</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">742.96590909090912</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">429.93181818181824</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">3338053.5693440083</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2570</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">742.96590909090912</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1656.4829545454545</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1827.034090909091</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">194025.23324509294</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1216</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1656.4829545454545</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1436.2414772727273</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">440.4829545454545</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">112386.84808400051</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1101</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1436.2414772727273</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1268.6207386363635</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">335.24147727272725</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2209323.3086119094</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2755</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1268.6207386363635</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2011.8103693181818</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1486.3792613636365</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">712656.13255070464</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2856</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2011.8103693181818</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2433.905184659091</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">844.18963068181824</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2798.9585638125168</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2381</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2433.905184659091</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2407.4525923295455</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">52.905184659090992</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">292089.0045557259</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1867</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2407.4525923295455</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">540.4525923295455</span><span class="p">}],</span> <span class="s1">&#39;mape&#39;</span><span class="p">:</span> <span class="mf">100.69830747447692</span><span class="p">,</span> <span class="s1">&#39;forecast&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">]}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forecast&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="mf">2137.226296164773</span><span class="p">]</span>
</pre></div>
</div>
<p>If we check the statistcs for the forecast we can see whether there is a
linear trend and subsequently if the forecast is useful.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> mape: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mape&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pvalue&#39;</span><span class="p">:</span> <span class="mf">0.0047852515832242743</span><span class="p">,</span> <span class="s1">&#39;test_statistic&#39;</span><span class="p">:</span> <span class="mf">3.8634855288615153</span><span class="p">,</span> <span class="s1">&#39;std_residuals&#39;</span><span class="p">:</span> <span class="mf">4793.7283216530095</span><span class="p">,</span> <span class="s1">&#39;intercept&#39;</span><span class="p">:</span> <span class="mf">377.59999999999991</span><span class="p">,</span> <span class="s1">&#39;trend&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;slope&#39;</span><span class="p">:</span> <span class="mf">224.4909090909091</span><span class="p">,</span> <span class="s1">&#39;slope_standard_error&#39;</span><span class="p">:</span> <span class="mf">58.105797838218294</span><span class="p">}</span>
 <span class="n">mape</span><span class="p">:</span> <span class="mf">100.69830747447692</span>
</pre></div>
</div>
<p>The breakdown of the forecast is also returned with the <code class="docutils literal"><span class="pre">forecast</span></code> and
<code class="docutils literal"><span class="pre">statistics</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forecast_breakdown&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2345353.024793389</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1635.4545454545455</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">869.72727272727275</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1531.4545454545455</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1938423.3471074379</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2262</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">869.72727272727275</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1565.8636363636365</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1392.2727272727273</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1478324.3822314052</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1565.8636363636365</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">957.93181818181824</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1215.8636363636365</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">184841.36828512402</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">528</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">957.93181818181824</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">742.96590909090912</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">429.93181818181824</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">3338053.5693440083</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2570</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">742.96590909090912</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1656.4829545454545</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1827.034090909091</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">194025.23324509294</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1216</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1656.4829545454545</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1436.2414772727273</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">440.4829545454545</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">112386.84808400051</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1101</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1436.2414772727273</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1268.6207386363635</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">335.24147727272725</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2209323.3086119094</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2755</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1268.6207386363635</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2011.8103693181818</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1486.3792613636365</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">712656.13255070464</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2856</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2011.8103693181818</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2433.905184659091</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">844.18963068181824</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2798.9585638125168</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2381</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2433.905184659091</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2407.4525923295455</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">52.905184659090992</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">292089.0045557259</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1867</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">2407.4525923295455</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">2137.226296164773</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">540.4525923295455</span><span class="p">}]</span>
</pre></div>
</div>
<p>We can convert the <code class="docutils literal"><span class="pre">forecast_breakdown</span></code> back into a <code class="docutils literal"><span class="pre">DataFrame</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">forecast_breakdown_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forecast_breakdown&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">forecast_breakdown_df</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
    alpha  demand  forecast_error  level_estimates  one_step_forecast  0     0.5     104    -1531.454545       869.727273        1635.454545
1     0.5    2262     1392.272727      1565.863636         869.727273
2     0.5     350    -1215.863636       957.931818        1565.863636
3     0.5     528     -429.931818       742.965909         957.931818
4     0.5    2570     1827.034091      1656.482955         742.965909
5     0.5    1216     -440.482955      1436.241477        1656.482955
6     0.5    1101     -335.241477      1268.620739        1436.241477
7     0.5    2755     1486.379261      2011.810369        1268.620739
8     0.5    2856      844.189631      2433.905185        2011.810369
9     0.5    2381      -52.905185      2407.452592        2433.905185
10    0.5    1867     -540.452592      2137.226296        2407.452592

    squared_error   t
0    2.345353e+06   1
1    1.938423e+06   2
2    1.478324e+06   3
3    1.848414e+05   4
4    3.338054e+06   5
5    1.940252e+05   6
6    1.123868e+05   7
7    2.209323e+06   8
8    7.126561e+05   9
9    2.798959e+03  10
10   2.920890e+05  11
</pre>
<p>Let’s look at the <code class="docutils literal"><span class="pre">demand</span></code> and the <code class="docutils literal"><span class="pre">one_step_forecast</span></code> in a chart.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">forecast_breakdown_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one_step_forecast&#39;</span><span class="p">,</span><span class="s1">&#39;demand&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x10e1be400</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/image1.png" src="_images/image1.png" />
<p>Using <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">mx</span> <span class="pre">+</span> <span class="pre">c</span></code> we can also create the data points for the
regression line.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">regression</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">)[</span><span class="s1">&#39;slope&#39;</span><span class="p">]</span><span class="o">*</span> <span class="n">i</span> <span class="p">)</span> <span class="o">+</span> <span class="n">ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">)[</span><span class="s1">&#39;intercept&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">)]}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">regression</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">602.09090909090901</span><span class="p">,</span> <span class="mf">826.58181818181811</span><span class="p">,</span> <span class="mf">1051.0727272727272</span><span class="p">,</span> <span class="mf">1275.5636363636363</span><span class="p">,</span> <span class="mf">1500.0545454545454</span><span class="p">,</span> <span class="mf">1724.5454545454545</span><span class="p">,</span> <span class="mf">1949.0363636363636</span><span class="p">,</span> <span class="mf">2173.5272727272727</span><span class="p">,</span> <span class="mf">2398.0181818181818</span><span class="p">,</span> <span class="mf">2622.5090909090909</span><span class="p">,</span> <span class="mf">2847.0</span><span class="p">]}</span>
</pre></div>
</div>
<p>We can add the regression data points to the forecast breakdwn
DataFrame.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">forecast_breakdown_df</span><span class="p">[</span><span class="s1">&#39;regression&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">regression</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;regression&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">forecast_breakdown_df</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
    alpha  demand  forecast_error  level_estimates  one_step_forecast  0     0.5     104    -1531.454545       869.727273        1635.454545
1     0.5    2262     1392.272727      1565.863636         869.727273
2     0.5     350    -1215.863636       957.931818        1565.863636
3     0.5     528     -429.931818       742.965909         957.931818
4     0.5    2570     1827.034091      1656.482955         742.965909
5     0.5    1216     -440.482955      1436.241477        1656.482955
6     0.5    1101     -335.241477      1268.620739        1436.241477
7     0.5    2755     1486.379261      2011.810369        1268.620739
8     0.5    2856      844.189631      2433.905185        2011.810369
9     0.5    2381      -52.905185      2407.452592        2433.905185
10    0.5    1867     -540.452592      2137.226296        2407.452592

    squared_error   t   regression
0    2.345353e+06   1   602.090909
1    1.938423e+06   2   826.581818
2    1.478324e+06   3  1051.072727
3    1.848414e+05   4  1275.563636
4    3.338054e+06   5  1500.054545
5    1.940252e+05   6  1724.545455
6    1.123868e+05   7  1949.036364
7    2.209323e+06   8  2173.527273
8    7.126561e+05   9  2398.018182
9    2.798959e+03  10  2622.509091
10   2.920890e+05  11  2847.000000
</pre>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">forecast_breakdown_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one_step_forecast&#39;</span><span class="p">,</span><span class="s1">&#39;demand&#39;</span><span class="p">,</span> <span class="s1">&#39;regression&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x110a83b38</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/image2.png" src="_images/image2.png" />
<p>We have a choice now, we can use another alpha and repeat the analysis
to reduce the Standard Error or use supplychainpy’s <code class="docutils literal"><span class="pre">optimise=True</span></code>
parameter to use an evolutionary algorithm and get closer to an optimal
solution.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">opt_ses_df</span> <span class="o">=</span> <span class="n">simple_exponential_smoothing_forecast</span><span class="p">(</span><span class="n">ds</span><span class="o">=</span><span class="n">row_ds</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">12</span><span class="p">],</span> <span class="n">length</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">smoothing_level_constant</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">optimise</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">opt_ses_df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;statistics&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;pvalue&#39;</span><span class="p">:</span> <span class="mf">0.0047852515832242743</span><span class="p">,</span> <span class="s1">&#39;test_statistic&#39;</span><span class="p">:</span> <span class="mf">3.8634855288615153</span><span class="p">,</span> <span class="s1">&#39;std_residuals&#39;</span><span class="p">:</span> <span class="mf">4793.7283216530095</span><span class="p">,</span> <span class="s1">&#39;intercept&#39;</span><span class="p">:</span> <span class="mf">377.59999999999991</span><span class="p">,</span> <span class="s1">&#39;trend&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;slope&#39;</span><span class="p">:</span> <span class="mf">224.4909090909091</span><span class="p">,</span> <span class="s1">&#39;slope_standard_error&#39;</span><span class="p">:</span> <span class="mf">58.105797838218294</span><span class="p">},</span> <span class="s1">&#39;optimal_alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;mape&#39;</span><span class="p">:</span> <span class="mf">209.37388042679993</span><span class="p">,</span> <span class="s1">&#39;standard_error&#39;</span><span class="p">:</span> <span class="mf">1097.3575476759161</span><span class="p">,</span> <span class="s1">&#39;forecast_breakdown&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">2345353.024793389</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1635.4545454545455</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1624.9030850605454</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1531.4545454545455</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">405892.47902537062</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2262</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1624.9030850605454</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1629.2925740500002</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">637.09691493945456</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1636589.4900194753</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1629.2925740500002</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1620.4784665941236</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1279.2925740500002</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1193509.1999718475</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">528</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1620.4784665941236</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1612.9514764488533</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1092.4784665941236</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">915941.87643142976</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2570</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1612.9514764488533</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1619.5453774048813</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">957.04852355114667</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">162848.87162484805</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1216</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1619.5453774048813</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1616.7650186410463</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">403.54537740488126</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">266013.5544537988</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1101</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1616.7650186410463</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1613.2114857053452</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">515.76501864104625</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1303681.0113751951</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2755</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1613.2114857053452</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1621.0782136618895</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1141.7885142946548</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">1525031.8183725097</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2856</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1621.0782136618895</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1629.5866139646664</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">1234.9217863381105</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">564622.07671308529</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">2381</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1629.5866139646664</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1634.7637239257851</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">751.41338603533359</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;squared_error&#39;</span><span class="p">:</span> <span class="mf">53933.687924818943</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.006889829296806371</span><span class="p">,</span> <span class="s1">&#39;demand&#39;</span><span class="p">:</span> <span class="mi">1867</span><span class="p">,</span> <span class="s1">&#39;one_step_forecast&#39;</span><span class="p">:</span> <span class="mf">1634.7637239257851</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;level_estimates&#39;</span><span class="p">:</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="s1">&#39;forecast_error&#39;</span><span class="p">:</span> <span class="mf">232.23627607421486</span><span class="p">}],</span> <span class="s1">&#39;forecast&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">]}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> mape: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mape&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pvalue&#39;</span><span class="p">:</span> <span class="mf">0.0047852515832242743</span><span class="p">,</span> <span class="s1">&#39;test_statistic&#39;</span><span class="p">:</span> <span class="mf">3.8634855288615153</span><span class="p">,</span> <span class="s1">&#39;std_residuals&#39;</span><span class="p">:</span> <span class="mf">4793.7283216530095</span><span class="p">,</span> <span class="s1">&#39;intercept&#39;</span><span class="p">:</span> <span class="mf">377.59999999999991</span><span class="p">,</span> <span class="s1">&#39;trend&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;slope&#39;</span><span class="p">:</span> <span class="mf">224.4909090909091</span><span class="p">,</span> <span class="s1">&#39;slope_standard_error&#39;</span><span class="p">:</span> <span class="mf">58.105797838218294</span><span class="p">}</span>
 <span class="n">mape</span><span class="p">:</span> <span class="mf">209.37388042679993</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forecast&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">,</span> <span class="mf">1636.3637922244625</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">optimised_regression</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">)[</span><span class="s1">&#39;slope&#39;</span><span class="p">]</span><span class="o">*</span> <span class="n">i</span> <span class="p">)</span> <span class="o">+</span> <span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">)[</span><span class="s1">&#39;intercept&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">)]}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">optimised_regression</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">602.09090909090901</span><span class="p">,</span> <span class="mf">826.58181818181811</span><span class="p">,</span> <span class="mf">1051.0727272727272</span><span class="p">,</span> <span class="mf">1275.5636363636363</span><span class="p">,</span> <span class="mf">1500.0545454545454</span><span class="p">,</span> <span class="mf">1724.5454545454545</span><span class="p">,</span> <span class="mf">1949.0363636363636</span><span class="p">,</span> <span class="mf">2173.5272727272727</span><span class="p">,</span> <span class="mf">2398.0181818181818</span><span class="p">,</span> <span class="mf">2622.5090909090909</span><span class="p">,</span> <span class="mf">2847.0</span><span class="p">]}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">opt_forecast_breakdown_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">opt_ses_df</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forecast_breakdown&#39;</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>We can compare the <code class="docutils literal"><span class="pre">MAPE</span></code> of our previous forecast with the optimised
simple exponential smoothing forecast to see which is a better forecast.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">opt_forecast_breakdown_df</span><span class="p">[</span><span class="s1">&#39;regression&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">optimised_regression</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;regression&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">opt_forecast_breakdown_df</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
      alpha  demand  forecast_error  level_estimates  one_step_forecast  0   0.00689     104    -1531.454545      1624.903085        1635.454545
1   0.00689    2262      637.096915      1629.292574        1624.903085
2   0.00689     350    -1279.292574      1620.478467        1629.292574
3   0.00689     528    -1092.478467      1612.951476        1620.478467
4   0.00689    2570      957.048524      1619.545377        1612.951476
5   0.00689    1216     -403.545377      1616.765019        1619.545377
6   0.00689    1101     -515.765019      1613.211486        1616.765019
7   0.00689    2755     1141.788514      1621.078214        1613.211486
8   0.00689    2856     1234.921786      1629.586614        1621.078214
9   0.00689    2381      751.413386      1634.763724        1629.586614
10  0.00689    1867      232.236276      1636.363792        1634.763724

    squared_error   t   regression
0    2.345353e+06   1   602.090909
1    4.058925e+05   2   826.581818
2    1.636589e+06   3  1051.072727
3    1.193509e+06   4  1275.563636
4    9.159419e+05   5  1500.054545
5    1.628489e+05   6  1724.545455
6    2.660136e+05   7  1949.036364
7    1.303681e+06   8  2173.527273
8    1.525032e+06   9  2398.018182
9    5.646221e+05  10  2622.509091
10   5.393369e+04  11  2847.000000
</pre>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">opt_forecast_breakdown_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one_step_forecast&#39;</span><span class="p">,</span><span class="s1">&#39;demand&#39;</span><span class="p">,</span> <span class="s1">&#39;regression&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x110a98f98</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/image3.png" src="_images/image3.png" />
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ahp.html" class="btn btn-neutral float-right" title="Analytic Hierarchy Process" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="inventory.html" class="btn btn-neutral" title="Inventory Modeling and Analysis Made Easy with Supplychainpy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Kevin Fasusi.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>